/*! For license information please see frontendHighlighterApp.bundle.js.LICENSE.txt */
(()=>{"use strict";(()=>{const e=Math.min,t=Math.max,n=Math.round,i=Math.floor,o=e=>({x:e,y:e});function s(e){return e.split("-")[0]}function r(e){return["top","bottom"].includes(s(e))?"y":"x"}function a(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function l(e,t,n){let{reference:i,floating:o}=e;const a=r(t),l=function(e){return"x"===r(e)?"y":"x"}(t),c="y"===l?"height":"width",u=s(t),d="y"===a,h=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,p=i[c]/2-o[c]/2;let g;switch(u){case"top":g={x:h,y:i.y-o.height};break;case"bottom":g={x:h,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:f};break;case"left":g={x:i.x-o.width,y:f};break;default:g={x:i.x,y:i.y}}switch(function(e){return e.split("-")[1]}(t)){case"start":g[l]-=p*(n&&d?-1:1);break;case"end":g[l]+=p*(n&&d?-1:1)}return g}function c(e){return h(e)?(e.nodeName||"").toLowerCase():"#document"}function u(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function d(e){var t;return null==(t=(h(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function h(e){return e instanceof Node||e instanceof u(e).Node}function f(e){return e instanceof Element||e instanceof u(e).Element}function p(e){return e instanceof HTMLElement||e instanceof u(e).HTMLElement}function g(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof u(e).ShadowRoot)}function v(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=x(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function b(e){return["table","td","th"].includes(c(e))}function m(e){const t=y(),n=x(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function y(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function w(e){return["html","body","#document"].includes(c(e))}function x(e){return u(e).getComputedStyle(e)}function S(e){return f(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function T(e){if("html"===c(e))return e;const t=e.assignedSlot||e.parentNode||g(e)&&e.host||d(e);return g(t)?t.host:t}function E(e){const t=T(e);return w(t)?e.ownerDocument?e.ownerDocument.body:e.body:p(t)&&v(t)?t:E(t)}function C(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=E(e),s=o===(null==(i=e.ownerDocument)?void 0:i.body),r=u(o);return s?t.concat(r,r.visualViewport||[],v(o)?o:[],r.frameElement&&n?C(r.frameElement):[]):t.concat(o,C(o,[],n))}function L(e){const t=x(e);let i=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=p(e),r=s?e.offsetWidth:i,a=s?e.offsetHeight:o,l=n(i)!==r||n(o)!==a;return l&&(i=r,o=a),{width:i,height:o,$:l}}function D(e){return f(e)?e:e.contextElement}function N(e){const t=D(e);if(!p(t))return o(1);const i=t.getBoundingClientRect(),{width:s,height:r,$:a}=L(t);let l=(a?n(i.width):i.width)/s,c=(a?n(i.height):i.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const F=o(0);function k(e){const t=u(e);return y()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:F}function I(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),r=D(e);let l=o(1);t&&(i?f(i)&&(l=N(i)):l=N(e));const c=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==u(e))&&t}(r,n,i)?k(r):o(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(r){const e=u(r),t=i&&f(i)?u(i):i;let n=e.frameElement;for(;n&&i&&t!==e;){const e=N(n),t=n.getBoundingClientRect(),i=x(n),o=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;d*=e.x,h*=e.y,p*=e.x,g*=e.y,d+=o,h+=s,n=u(n).frameElement}}return a({width:p,height:g,x:d,y:h})}function O(e){return I(d(e)).left+S(e).scrollLeft}function R(e,n,i){let s;if("viewport"===n)s=function(e,t){const n=u(e),i=d(e),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;const e=y();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a,y:l}}(e,i);else if("document"===n)s=function(e){const n=d(e),i=S(e),o=e.ownerDocument.body,s=t(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),r=t(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let a=-i.scrollLeft+O(e);const l=-i.scrollTop;return"rtl"===x(o).direction&&(a+=t(n.clientWidth,o.clientWidth)-s),{width:s,height:r,x:a,y:l}}(d(e));else if(f(n))s=function(e,t){const n=I(e,!0,"fixed"===t),i=n.top+e.clientTop,s=n.left+e.clientLeft,r=p(e)?N(e):o(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:s*r.x,y:i*r.y}}(n,i);else{const t=k(e);s={...n,x:n.x-t.x,y:n.y-t.y}}return a(s)}function P(e,t){const n=T(e);return!(n===t||!f(n)||w(n))&&("fixed"===x(n).position||P(n,t))}function B(e,t,n){const i=p(t),s=d(t),r="fixed"===n,a=I(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const u=o(0);if(i||!i&&!r)if(("body"!==c(t)||v(s))&&(l=S(t)),i){const e=I(t,!0,r,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else s&&(u.x=O(s));return{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function A(e,t){return p(e)&&"fixed"!==x(e).position?t?t(e):e.offsetParent:null}function q(e,t){const n=u(e);if(!p(e))return n;let i=A(e,t);for(;i&&b(i)&&"static"===x(i).position;)i=A(i,t);return i&&("html"===c(i)||"body"===c(i)&&"static"===x(i).position&&!m(i))?n:i||function(e){let t=T(e);for(;p(t)&&!w(t);){if(m(t))return t;t=T(t)}return null}(e)||n}const H={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:i}=e;const s=p(n),r=d(n);if(n===r)return t;let a={scrollLeft:0,scrollTop:0},l=o(1);const u=o(0);if((s||!s&&"fixed"!==i)&&(("body"!==c(n)||v(r))&&(a=S(n)),p(n))){const e=I(n);l=N(n),u.x=e.x+n.clientLeft,u.y=e.y+n.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-a.scrollLeft*l.x+u.x,y:t.y*l.y-a.scrollTop*l.y+u.y}},getDocumentElement:d,getClippingRect:function(n){let{element:i,boundary:o,rootBoundary:s,strategy:r}=n;const a=[..."clippingAncestors"===o?function(e,t){const n=t.get(e);if(n)return n;let i=C(e,[],!1).filter((e=>f(e)&&"body"!==c(e))),o=null;const s="fixed"===x(e).position;let r=s?T(e):e;for(;f(r)&&!w(r);){const t=x(r),n=m(r);n||"fixed"!==t.position||(o=null),(s?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||v(r)&&!n&&P(e,r))?i=i.filter((e=>e!==r)):o=t,r=T(r)}return t.set(e,i),i}(i,this._c):[].concat(o),s],l=a[0],u=a.reduce(((n,o)=>{const s=R(i,o,r);return n.top=t(s.top,n.top),n.right=e(s.right,n.right),n.bottom=e(s.bottom,n.bottom),n.left=t(s.left,n.left),n}),R(i,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:q,getElementRects:async function(e){let{reference:t,floating:n,strategy:i}=e;const o=this.getOffsetParent||q,s=this.getDimensions;return{reference:B(t,await o(n),i),floating:{x:0,y:0,...await s(n)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return L(e)},getScale:N,isElement:f,isRTL:function(e){return"rtl"===x(e).direction}};var j=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],G=j.join(","),M="undefined"==typeof Element,W=M?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_=!M&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},V=function e(t,n){var i;void 0===n&&(n=!0);var o=null==t||null===(i=t.getAttribute)||void 0===i?void 0:i.call(t,"inert");return""===o||"true"===o||n&&t&&e(t.parentNode)},$=function(e,t,n){if(V(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(G));return t&&W.call(e,G)&&i.unshift(e),i.filter(n)},z=function e(t,n,i){for(var o=[],s=Array.from(t);s.length;){var r=s.shift();if(!V(r,!1))if("SLOT"===r.tagName){var a=r.assignedElements(),l=e(a.length?a:r.children,!0,i);i.flatten?o.push.apply(o,l):o.push({scopeParent:r,candidates:l})}else{W.call(r,G)&&i.filter(r)&&(n||!t.includes(r))&&o.push(r);var c=r.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(r),u=!V(c,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(r));if(c&&u){var d=e(!0===c?r.children:c.children,!0,i);i.flatten?o.push.apply(o,d):o.push({scopeParent:r,candidates:d})}else s.unshift.apply(s,r.children)}}return o},K=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},U=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!K(e)?0:e.tabIndex},Y=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},X=function(e){return"INPUT"===e.tagName},J=function(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return 0===n&&0===i},Q=function(e,t){return!(t.disabled||V(t)||function(e){return X(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,i=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=W.call(e,"details>summary:first-of-type")?e.parentElement:e;if(W.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return J(e)}else{if("function"==typeof i){for(var s=e;e;){var r=e.parentElement,a=_(e);if(r&&!r.shadowRoot&&!0===i(r))return J(e);e=e.assignedSlot?e.assignedSlot:r||a===e.ownerDocument?r:a.host}e=s}if(function(e){var t,n,i,o,s=e&&_(e),r=null===(t=s)||void 0===t?void 0:t.host,a=!1;if(s&&s!==e)for(a=!!(null!==(n=r)&&void 0!==n&&null!==(i=n.ownerDocument)&&void 0!==i&&i.contains(r)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!a&&r;){var l,c,u;a=!(null===(c=r=null===(l=s=_(r))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(r))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var i=t.children.item(n);if("LEGEND"===i.tagName)return!!W.call(t,"fieldset[disabled] *")||!i.contains(e)}return!0}t=t.parentElement}return!1}(t))},Z=function(e,t){return!(function(e){return function(e){return X(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||_(e),i=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=i(window.CSS.escape(e.name));else try{t=i(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)}(t)||U(t)<0||!Q(e,t))},ee=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},te=function e(t){var n=[],i=[];return t.forEach((function(t,o){var s=!!t.scopeParent,r=s?t.scopeParent:t,a=function(e,t){var n=U(e);return n<0&&t&&!K(e)?0:n}(r,s),l=s?e(t.candidates):r;0===a?s?n.push.apply(n,l):n.push(r):i.push({documentOrder:o,tabIndex:a,item:t,isScope:s,content:l})})),i.sort(Y).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},ne=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==W.call(e,G)&&Z(t,e)},ie=j.concat("iframe").join(","),oe=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==W.call(e,ie)&&Q(t,e)};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){var i,o,s;i=e,o=t,s=n[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(o))in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},le=function(e){return ae(e)&&!e.shiftKey},ce=function(e){return ae(e)&&e.shiftKey},ue=function(e){return setTimeout(e,0)},de=function(e,t){var n=-1;return e.every((function(e,i){return!t(e)||(n=i,!1)})),n},he=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"==typeof e?e.apply(void 0,n):e},fe=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},pe=[],ge=function(e,t){var n,i=(null==t?void 0:t.document)||document,o=(null==t?void 0:t.trapStack)||pe,s=re({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:le,isKeyBackward:ce},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a=function(e,t,n){return e&&void 0!==e[t]?e[t]:s[n||t]},l=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex((function(t){var i=t.container,o=t.tabbableNodes;return i.contains(e)||(null==n?void 0:n.includes(i))||o.find((function(t){return t===e}))}))},c=function(e){var t=s[e];if("function"==typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var a=t;if("string"==typeof t&&!(a=i.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return a},u=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e||!oe(e,s.tabbableOptions))if(l(i.activeElement)>=0)e=i.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},d=function(){if(r.containerGroups=r.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?z([e],t.includeContainer,{filter:Z.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:ee}):$(e,t.includeContainer,Z.bind(null,t)),te(n)}(e,s.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?z([e],t.includeContainer,{filter:Q.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):$(e,t.includeContainer,Q.bind(null,t))}(e,s.tabbableOptions),i=t.length>0?t[0]:void 0,o=t.length>0?t[t.length-1]:void 0,r=n.find((function(e){return ne(e)})),a=n.slice().reverse().find((function(e){return ne(e)})),l=!!t.find((function(e){return U(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:i,lastTabbableNode:o,firstDomTabbableNode:r,lastDomTabbableNode:a,nextTabbableNode:function(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t.indexOf(e);return o<0?i?n.slice(n.indexOf(e)+1).find((function(e){return ne(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return ne(e)})):t[o+(i?1:-1)]}}})),r.tabbableGroups=r.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find((function(e){return e.posTabIndexesFound}))&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},f=function e(t){!1!==t&&t!==h(document)&&(t&&t.focus?(t.focus({preventScroll:!!s.preventScroll}),r.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(u()))},p=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},g=function(e){var t=e.target,n=e.event,i=e.isBackward,o=void 0!==i&&i;t=t||fe(n),d();var a=null;if(r.tabbableGroups.length>0){var u=l(t,n),h=u>=0?r.containerGroups[u]:void 0;if(u<0)a=o?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(o){var f=de(r.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(f<0&&(h.container===t||oe(t,s.tabbableOptions)&&!ne(t,s.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(f=u),f>=0){var p=0===f?r.tabbableGroups.length-1:f-1,g=r.tabbableGroups[p];a=U(t)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else ae(n)||(a=h.nextTabbableNode(t,!1))}else{var v=de(r.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(v<0&&(h.container===t||oe(t,s.tabbableOptions)&&!ne(t,s.tabbableOptions)&&!h.nextTabbableNode(t))&&(v=u),v>=0){var b=v===r.tabbableGroups.length-1?0:v+1,m=r.tabbableGroups[b];a=U(t)>=0?m.firstTabbableNode:m.firstDomTabbableNode}else ae(n)||(a=h.nextTabbableNode(t))}}else a=c("fallbackFocus");return a},v=function(e){var t=fe(e);l(t,e)>=0||(he(s.clickOutsideDeactivates,e)?n.deactivate({returnFocus:s.returnFocusOnDeactivate}):he(s.allowOutsideClick,e)||e.preventDefault())},b=function(e){var t=fe(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{var i;e.stopImmediatePropagation();var o=!0;if(r.mostRecentlyFocusedNode)if(U(r.mostRecentlyFocusedNode)>0){var a=l(r.mostRecentlyFocusedNode),c=r.containerGroups[a].tabbableNodes;if(c.length>0){var d=c.findIndex((function(e){return e===r.mostRecentlyFocusedNode}));d>=0&&(s.isKeyForward(r.recentNavEvent)?d+1<c.length&&(i=c[d+1],o=!1):d-1>=0&&(i=c[d-1],o=!1))}}else r.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return U(e)>0}))}))||(o=!1);else o=!1;o&&(i=g({target:r.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(r.recentNavEvent)})),f(i||r.mostRecentlyFocusedNode||u())}r.recentNavEvent=void 0},m=function(e){if(("Escape"===(null==(t=e)?void 0:t.key)||"Esc"===(null==t?void 0:t.key)||27===(null==t?void 0:t.keyCode))&&!1!==he(s.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();var t;(s.isKeyForward(e)||s.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=g({event:e,isBackward:t});n&&(ae(e)&&e.preventDefault(),f(n))}(e,s.isKeyBackward(e))},y=function(e){var t=fe(e);l(t,e)>=0||he(s.clickOutsideDeactivates,e)||he(s.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},w=function(){if(r.active)return function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var i=e.indexOf(t);-1===i||e.splice(i,1),e.push(t)}(o,n),r.delayInitialFocusTimer=s.delayInitialFocus?ue((function(){f(u())})):f(u()),i.addEventListener("focusin",b,!0),i.addEventListener("mousedown",v,{capture:!0,passive:!1}),i.addEventListener("touchstart",v,{capture:!0,passive:!1}),i.addEventListener("click",y,{capture:!0,passive:!1}),i.addEventListener("keydown",m,{capture:!0,passive:!1}),n},x=function(){if(r.active)return i.removeEventListener("focusin",b,!0),i.removeEventListener("mousedown",v,!0),i.removeEventListener("touchstart",v,!0),i.removeEventListener("click",y,!0),i.removeEventListener("keydown",m,!0),n},S="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===r.mostRecentlyFocusedNode}))}))&&f(u())})):void 0,T=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map((function(e){S.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=a(e,"onActivate"),n=a(e,"onPostActivate"),o=a(e,"checkCanFocusTrap");o||d(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=i.activeElement,null==t||t();var s=function(){o&&d(),w(),T(),null==n||n()};return o?(o(r.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!r.active)return this;var t=re({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,x(),r.active=!1,r.paused=!1,T(),function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}(o,n);var i=a(t,"onDeactivate"),l=a(t,"onPostDeactivate"),c=a(t,"checkCanReturnFocus"),u=a(t,"returnFocus","returnFocusOnDeactivate");null==i||i();var d=function(){ue((function(){u&&f(p(r.nodeFocusedBeforeActivation)),null==l||l()}))};return u&&c?(c(p(r.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(e){if(r.paused||!r.active)return this;var t=a(e,"onPause"),n=a(e,"onPostPause");return r.paused=!0,null==t||t(),x(),T(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=a(e,"onUnpause"),n=a(e,"onPostUnpause");return r.paused=!1,null==t||t(),d(),w(),T(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return r.containers=t.map((function(e){return"string"==typeof e?i.querySelector(e):e})),r.active&&d(),T(),this}}).updateContainerElements(e),n};class ve{constructor(e={}){this.settings={showIgnored:!1,...e},this.highlightPanel=this.addHighlightPanel(),this.nextButton=document.querySelector("#edac-highlight-next"),this.previousButton=document.querySelector("#edac-highlight-previous"),this.panelToggle=document.querySelector("#edac-highlight-panel-toggle"),this.closePanel=document.querySelector("#edac-highlight-panel-controls-close"),this.panelDescription=document.querySelector("#edac-highlight-panel-description"),this.panelControls=document.querySelector("#edac-highlight-panel-controls"),this.descriptionCloseButton=document.querySelector(".edac-highlight-panel-description-close"),this.issues=null,this.currentButtonIndex=null,this.urlParameter=this.get_url_parameter("edac"),this.currentIssueStatus=null,this.tooltips=[],this.panelControlsFocusTrap=ge("#"+this.panelControls.id,{clickOutsideDeactivates:!0,escapeDeactivates:()=>{this.panelClose()}}),this.panelDescriptionFocusTrap=ge("#"+this.panelDescription.id,{clickOutsideDeactivates:!0,escapeDeactivates:()=>{this.descriptionClose()}}),this.disableStylesButton=document.querySelector("#edac-highlight-disable-styles"),this.stylesDisabled=!1,this.originalCss=[],this.init()}init(){this.nextButton.addEventListener("click",(()=>{this.highlightFocusNext(),this.focusTrapDescription()})),this.previousButton.addEventListener("click",(()=>{this.highlightFocusPrevious(),this.focusTrapDescription()})),this.panelToggle.addEventListener("click",(()=>{this.panelOpen(),this.focusTrapControls()})),this.closePanel.addEventListener("click",(()=>{this.panelClose(),this.panelControlsFocusTrap.deactivate(),this.panelDescriptionFocusTrap.deactivate(),this.enableStyles()})),this.descriptionCloseButton.addEventListener("click",(()=>this.descriptionClose())),this.disableStylesButton.addEventListener("click",(()=>{this.stylesDisabled?this.enableStyles():this.disableStyles()})),this.urlParameter&&this.panelOpen(this.urlParameter)}findElement(e,t){let n=e.object;const i=(new DOMParser).parseFromString(n,"text/html").body.firstElementChild;i&&(n=i.outerHTML);const o=document.body.querySelectorAll("*");for(const i of o)if(i.outerHTML.replace(/\W/g,"")===n.replace(/\W/g,"")){const n=this.addTooltip(i,e,t);return this.issues[t].tooltip=n.tooltip,this.tooltips.push(n),i}return null}highlightAjax(){const e=this;return new Promise((function(t,n){const i=new XMLHttpRequest,o=edacFrontendHighlighterApp.ajaxurl+"?action=edac_frontend_highlight_ajax&post_id="+edacFrontendHighlighterApp.postID+"&nonce="+edacFrontendHighlighterApp.nonce;e.showWait(!0),i.open("GET",o),i.onload=function(){if(200===i.status){e.showWait(!1);const n=JSON.parse(i.responseText);if(!0===n.success){const i=JSON.parse(n.data);e.settings.showIgnored?t(i):t(i.filter((t=>null!==t.rule_type&&(t.id===e.urlParameter||"ignored"!==t.rule_type))))}else t([])}else e.showWait(!1),n({status:i.status,statusText:i.statusText})},i.onerror=function(){e.showWait(!1),n({status:i.status,statusText:i.statusText})},i.send()}))}showWait(e=!0){e?document.querySelector("body").classList.add("edac-app-wait"):document.querySelector("body").classList.remove("edac-app-wait")}removeHighlightButtons(){this.tooltips.forEach((e=>{e.tooltip.removeEventListener("click",e.listeners.onClick),e.listeners.cleanup()})),document.querySelectorAll(".edac-highlight-btn").forEach((e=>{e.remove()}))}addTooltip(n,o,s){const r=document.createElement("button");r.classList="edac-highlight-btn edac-highlight-btn-"+o.rule_type,r.ariaLabel=o.rule_title,r.ariaExpanded="false",r.dataset.id=o.id;const a=e=>{const t=e.currentTarget.dataset.id;this.showIssue(t)};r.addEventListener("click",a),document.body.append(r);const c=function(n,o,s,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:h=!1}=r,f=D(n),p=a||l?[...f?C(f):[],...C(o)]:[];p.forEach((e=>{a&&e.addEventListener("scroll",s,{passive:!0}),l&&e.addEventListener("resize",s)}));const g=f&&u?function(n,o){let s,r=null;const a=d(n);function l(){clearTimeout(s),r&&r.disconnect(),r=null}return function c(u,d){void 0===u&&(u=!1),void 0===d&&(d=1),l();const{left:h,top:f,width:p,height:g}=n.getBoundingClientRect();if(u||o(),!p||!g)return;const v={rootMargin:-i(f)+"px "+-i(a.clientWidth-(h+p))+"px "+-i(a.clientHeight-(f+g))+"px "+-i(h)+"px",threshold:t(0,e(1,d))||1};let b=!0;function m(e){const t=e[0].intersectionRatio;if(t!==d){if(!b)return c();t?c(!1,t):s=setTimeout((()=>{c(!1,1e-7)}),100)}b=!1}try{r=new IntersectionObserver(m,{...v,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(m,v)}r.observe(n)}(!0),l}(f,s):null;let v,b=-1,m=null;c&&(m=new ResizeObserver((e=>{let[t]=e;t&&t.target===f&&m&&(m.unobserve(o),cancelAnimationFrame(b),b=requestAnimationFrame((()=>{m&&m.observe(o)}))),s()})),f&&!h&&m.observe(f),m.observe(o));let y=h?I(n):null;return h&&function e(){const t=I(n);!y||t.x===y.x&&t.y===y.y&&t.width===y.width&&t.height===y.height||s(),y=t,v=requestAnimationFrame(e)}(),s(),()=>{p.forEach((e=>{a&&e.removeEventListener("scroll",s),l&&e.removeEventListener("resize",s)})),g&&g(),m&&m.disconnect(),m=null,h&&cancelAnimationFrame(v)}}(n,r,(function(){((e,t,n)=>{const i=new Map,o={platform:H,...n},s={...o.platform,_c:i};return(async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,a=s.filter(Boolean),c=await(null==r.isRTL?void 0:r.isRTL(t));let u=await r.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=l(u,i,c),f=i,p={},g=0;for(let n=0;n<a.length;n++){const{name:s,fn:v}=a[n],{x:b,y:m,data:y,reset:w}=await v({x:d,y:h,initialPlacement:i,placement:f,strategy:o,middlewareData:p,rects:u,platform:r,elements:{reference:e,floating:t}});d=null!=b?b:d,h=null!=m?m:h,p={...p,[s]:{...p[s],...y}},w&&g<=50&&(g++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(u=!0===w.rects?await r.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:d,y:h}=l(u,f,c))),n=-1)}return{x:d,y:h,placement:f,strategy:o,middlewareData:p}})(e,t,{...o,platform:s})})(n,r,{placement:"top-start",middleware:[]}).then((({x:e,y:t,middlewareData:i,placement:o})=>{const s=n.getBoundingClientRect(),a=void 0===n.offsetHeight?0:n.offsetHeight,l=void 0===n.offsetWidth?0:n.offsetWidth,c=void 0===r.offsetHeight?0:r.offsetHeight,u=void 0===r.offsetWidth?0:r.offsetWidth;let d=0;c<=.8*a&&(d=c),u>=.8*l&&(d=0),s.left<u&&(e=0),s.left>window.screen&&(e=window.screen.width-u),s.top<c&&(t=0),Object.assign(r.style,{left:`${e+0}px`,top:`${t+d}px`})}))}),{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0,animationFrame:!0});return{element:n,tooltip:r,listeners:{onClick:a,cleanup:c}}}addHighlightPanel(){return document.body.insertAdjacentHTML("afterbegin",'\n\t\t\t<div id="edac-highlight-panel" class="edac-highlight-panel">\n\t\t\t<button id="edac-highlight-panel-toggle" class="edac-highlight-panel-toggle" aria-haspopup="dialog" aria-label="Accessibility Checker Tools"></button>\n\t\t\t<div id="edac-highlight-panel-description" class="edac-highlight-panel-description" role="dialog" aria-labelledby="edac-highlight-panel-description-title" tabindex="0">\n\t\t\t<button class="edac-highlight-panel-description-close edac-highlight-panel-controls-close" aria-label="Close">×</button>\n\t\t\t\t<div id="edac-highlight-panel-description-title" class="edac-highlight-panel-description-title"></div>\n\t\t\t\t<div class="edac-highlight-panel-description-content"></div>\n\t\t\t\t<div id="edac-highlight-panel-description-code" class="edac-highlight-panel-description-code"><code></code></div>\n\t\t\t</div>\n\t\t\t<div id="edac-highlight-panel-controls" class="edac-highlight-panel-controls" tabindex="0">\n\t\t\t\t<button id="edac-highlight-panel-controls-close" class="edac-highlight-panel-controls-close" aria-label="Close">×</button>\n\t\t\t\t<div class="edac-highlight-panel-controls-title">Accessibility Checker</div>\n\t\t\t\t<div class="edac-highlight-panel-controls-summary">Loading...</div>\n\t\t\t\t<div class="edac-highlight-panel-controls-buttons">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button id="edac-highlight-previous" disabled="true"><span aria-hidden="true">« </span>Previous</button>\n\t\t\t\t\t\t<button id="edac-highlight-next" disabled="true">Next<span aria-hidden="true"> »</span></button><br />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button id="edac-highlight-disable-styles" class="edac-highlight-disable-styles" aria-live="polite">Disable Styles</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t</div>\n\t\t'),document.getElementById("edac-highlight-panel")}highlightFocusNext=()=>{null===this.currentButtonIndex?this.currentButtonIndex=0:this.currentButtonIndex=(this.currentButtonIndex+1)%this.issues.length;const e=this.issues[this.currentButtonIndex].id;this.showIssue(e)};highlightFocusPrevious=()=>{null===this.currentButtonIndex?this.currentButtonIndex=this.issues.length-1:this.currentButtonIndex=(this.currentButtonIndex-1+this.issues.length)%this.issues.length;const e=this.issues[this.currentButtonIndex].id;this.showIssue(e)};focusTrapControls=()=>{this.panelDescriptionFocusTrap.deactivate(),this.panelControlsFocusTrap.activate(),setTimeout((()=>{this.panelControls.focus()}),100)};focusTrapDescription=()=>{this.panelControlsFocusTrap.deactivate(),this.panelDescriptionFocusTrap.activate(),setTimeout((()=>{this.panelDescription.focus()}),100)};showIssue=e=>{if(this.removeSelectedClasses(),void 0===e)return;const t=this.issues.find((t=>t.id===e));this.currentButtonIndex=this.issues.findIndex((t=>t.id===e));const n=t.tooltip,i=t.element;n&&i?(n.classList.add("edac-highlight-btn-selected"),i.classList.add("edac-highlight-element-selected"),i.offsetWidth<20&&i.classList.add("edac-highlight-element-selected-min-width"),i.offsetHeight<5&&i.classList.add("edac-highlight-element-selected-min-height"),i.scrollIntoView({block:"center"}),oe(n)?this.checkVisibility(n)&&this.checkVisibility(i)?this.currentIssueStatus=null:this.currentIssueStatus="The element is not visible. Try disabling styles.":this.currentIssueStatus="The element is not focusable. Try disabling styles."):this.currentIssueStatus="The element was not found on the page.",this.descriptionOpen(e)};checkVisibility=e=>"function"!=typeof e.checkVisibility?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0});panelOpen(e){this.highlightPanel.classList.add("edac-highlight-panel-visible"),this.panelControls.style.display="block",this.panelToggle.style.display="none",this.nextButton.disabled=!0,this.previousButton.disabled=!0,this.highlightAjax().then((t=>{this.issues=t,t.forEach(function(e,t){const n=this.findElement(e,t);null!==n&&(this.issues[t].element=n)}.bind(this)),this.showIssueCount(),void 0!==e&&(this.showIssue(e),this.focusTrapDescription())})).catch((e=>{}))}panelClose(){this.highlightPanel.classList.remove("edac-highlight-panel-visible"),this.panelControls.style.display="none",this.panelDescription.style.display="none",this.panelToggle.style.display="block",this.removeSelectedClasses(),this.removeHighlightButtons(),this.closePanel.removeEventListener("click",this.panelControlsFocusTrap.deactivate),this.panelToggle.focus()}removeSelectedClasses=()=>{document.querySelectorAll(".edac-highlight-btn-selected").forEach((e=>{e.classList.remove("edac-highlight-btn-selected")})),document.querySelectorAll(".edac-highlight-element-selected").forEach((e=>{e.classList.remove("edac-highlight-element-selected","edac-highlight-element-selected-min-width","edac-highlight-element-selected-min-height"),0===e.classList.length&&e.removeAttribute("class")}))};descriptionOpen(e){const t=e,n=this.issues.find((e=>e.id===t));if(n){const e=document.querySelector(".edac-highlight-panel-description-title"),t=document.querySelector(".edac-highlight-panel-description-content"),i=document.querySelector(".edac-highlight-panel-description-code code");let o="";o+=` <div class="edac-highlight-panel-description-index">${this.currentButtonIndex+1} of ${this.issues.length}</div>`,this.currentIssueStatus&&(o+=` <div class="edac-highlight-panel-description-status">${this.currentIssueStatus}</div>`),o+=n.summary,o+=` <br /><a class="edac-highlight-panel-description-reference" href="${n.link}">Full Documentation</a>`,o+='<button class="edac-highlight-panel-description-code-button" aria-expanded="false" aria-controls="edac-highlight-panel-description-code">Show Code</button>',e.innerHTML=n.rule_title+' <span class="edac-highlight-panel-description-type edac-highlight-panel-description-type-'+n.rule_type+'" aria-label=" Issue type: '+n.rule_type+'"> '+n.rule_type+"</span>",t.innerHTML=o;const s=n.object,r=(new DOMParser).parseFromString(s,"text/html").body.firstElementChild;if(r)i.innerText=r.outerHTML;else{const e=document.createTextNode(n.object);i.innerText=e.nodeValue}this.codeContainer=document.querySelector(".edac-highlight-panel-description-code"),this.codeButton=document.querySelector(".edac-highlight-panel-description-code-button"),this.codeButton.addEventListener("click",(()=>this.codeToggle())),this.codeContainer.style.display="none",this.panelDescription.style.display="block"}}descriptionClose(){this.panelDescription.style.display="none",this.focusTrapControls()}disableStyles(){if(!document.querySelector("#edac-app-css")){const e=document.createElement("link");e.rel="stylesheet",e.id="edac-app-css",e.type="text/css",e.href=edacFrontendHighlighterApp.appCssUrl,e.media="all",document.head.appendChild(e)}this.originalCss=Array.from(document.head.querySelectorAll('style[type="text/css"], style, link[rel="stylesheet"]')),document.querySelectorAll('*[style]:not([class^="edac"])').forEach((function(e){e.removeAttribute("style")})),this.originalCss=this.originalCss.filter((function(e){return"edac-app-css"!==e.id&&"dashicons-css"!==e.id})),document.head.dataset.css=this.originalCss,this.originalCss.forEach((function(e){e.remove()})),document.querySelector("body").classList.add("edac-app-disable-styles"),this.stylesDisabled=!0,this.disableStylesButton.textContent="Enable Styles"}enableStyles(){this.originalCss.forEach((function(e){if("STYLE"===e.tagName)document.head.appendChild(e.cloneNode(!0));else{const t=document.createElement("link");t.rel="stylesheet",t.href=e.href,document.head.appendChild(t)}})),document.querySelector("body").classList.remove("edac-app-disable-styles"),this.stylesDisabled=!1,this.disableStylesButton.textContent="Disable Styles"}get_url_parameter(e){const t=window.location.search.substring(1).split("&");let n,i;for(i=0;i<t.length;i++)if(n=t[i].split("="),n[0]===e)return void 0===n[1]||decodeURIComponent(n[1]);return!1}codeToggle(){"none"===this.codeContainer.style.display||""===this.codeContainer.style.display?(this.codeContainer.style.display="block",this.codeButton.setAttribute("aria-expanded","true")):(this.codeContainer.style.display="none",this.codeButton.setAttribute("aria-expanded","false"))}countIssues(e){let t=0;for(const n of this.issues)n.rule_type===e&&t++;return t}countIgnored(){let e=0;for(const t of this.issues)1===t.ignored&&e++;return e}showIssueCount(){const e=this.countIssues("error"),t=this.countIssues("warning"),n=this.countIgnored(),i=document.querySelector(".edac-highlight-panel-controls-summary");let o="No issues detected.";(e>0||t>0||n>0)&&(o="",this.nextButton.disabled=!1,this.previousButton.disabled=!1,e>=0&&(o+=e+" error"+(1===e?"":"s")+", "),t>=0&&(o+=t+" warning"+(1===t?"":"s")+", "),n>=0?o+="and "+n+" ignored issue"+(1===n?"":"s")+" detected.":o=o.slice(0,-2)+" detected."),i.textContent=o}}window.addEventListener("DOMContentLoaded",(()=>{new ve}))})()})();